"""Ğ¡Ñ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ğ° Ğ°Ñ€Ñ…Ğ¸Ğ²Ğ° ğŸŒ¶ï¸ğŸŒ¶ï¸
Ğ’Ğ°Ğ¼ Ğ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½ Ğ°Ñ€Ñ…Ğ¸Ğ² desktop.zip, ÑĞ¾Ğ´ĞµÑ€Ğ¶Ğ°Ñ‰Ğ¸Ğ¹ Ñ€Ğ°Ğ·Ğ»Ğ¸Ñ‡Ğ½Ñ‹Ğµ Ğ¿Ğ°Ğ¿ĞºĞ¸ Ğ¸ Ñ„Ğ°Ğ¹Ğ»Ñ‹.
ĞĞ°Ğ¿Ğ¸ÑˆĞ¸Ñ‚Ğµ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñƒ, ĞºĞ¾Ñ‚Ğ¾Ñ€Ğ°Ñ Ğ²Ñ‹Ğ²Ğ¾Ğ´Ğ¸Ñ‚ ĞµĞ³Ğ¾ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²ÑƒÑ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ Ğ¸ Ğ¾Ğ±ÑŠĞµĞ¼ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ñ„Ğ°Ğ¹Ğ»Ğ°.
Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ğ²Ñ…Ğ¾Ğ´Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
ĞĞ° Ğ²Ñ…Ğ¾Ğ´ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğµ Ğ½Ğ¸Ñ‡ĞµĞ³Ğ¾ Ğ½Ğµ Ğ¿Ğ¾Ğ´Ğ°ĞµÑ‚ÑÑ.
Ğ¤Ğ¾Ñ€Ğ¼Ğ°Ñ‚ Ğ²Ñ‹Ñ…Ğ¾Ğ´Ğ½Ñ‹Ñ… Ğ´Ğ°Ğ½Ğ½Ñ‹Ñ…
ĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ğ° Ğ´Ğ¾Ğ»Ğ¶Ğ½Ğ° Ğ²Ñ‹Ğ²ĞµÑÑ‚Ğ¸ Ñ„Ğ°Ğ¹Ğ»Ğ¾Ğ²ÑƒÑ ÑÑ‚Ñ€ÑƒĞºÑ‚ÑƒÑ€Ñƒ Ğ°Ñ€Ñ…Ğ¸Ğ²Ğ° desktop.zip Ğ¸ Ğ¾Ğ±ÑŠĞµĞ¼ ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ñ„Ğ°Ğ¹Ğ»Ğ° Ğ² Ğ½ĞµÑĞ¶Ğ°Ñ‚Ğ¾Ğ¼ Ğ²Ğ¸Ğ´Ğµ.
Ğ¢Ğ°Ğº ĞºĞ°Ğº Ğ°Ñ€Ñ…Ğ¸Ğ² Ğ¸Ğ¼ĞµĞµÑ‚ ÑĞ¾Ğ±ÑÑ‚Ğ²ĞµĞ½Ğ½ÑƒÑ Ğ¸ĞµÑ€Ğ°Ñ€Ñ…Ğ¸Ñ Ğ¿Ğ°Ğ¿Ğ¾Ğº, ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ²Ğ»Ğ¾Ğ¶ĞµĞ½Ğ½Ğ¾ÑÑ‚Ğ¸ Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ±Ñ‹Ñ‚ÑŒ Ğ²Ñ‹Ğ´ĞµĞ»ĞµĞ½ Ğ´Ğ²ÑƒĞ¼Ñ Ğ¿Ñ€Ğ¾Ğ±ĞµĞ»Ğ°Ğ¼Ğ¸.
ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ 1. Ğ’Ñ‹Ğ²Ğ¾Ğ´ Ğ½Ğ° Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ğµ Ğ°Ñ€Ñ…Ğ¸Ğ²Ğ° test.zip Ğ¸Ğ· ĞºĞ¾Ğ½ÑĞ¿ĞµĞºÑ‚Ğ°:
test
  ĞšĞ°Ñ€Ñ‚Ğ¸Ğ½ĞºĞ¸
    1.jpg 88 KB
    avatar.png 19 KB
    certificate.png 43 KB
    py.png 33 KB
    World_Time_Zones_Map.png 2 MB
    Ğ¡Ğ½Ğ¸Ğ¼Ğ¾Ğº ÑĞºÑ€Ğ°Ğ½Ğ°.png 11 KB
  ĞĞµÑ€Ğ°Ğ²ĞµĞ½ÑÑ‚Ğ²Ğ°.djvu 5 MB
  ĞŸÑ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ğ¼Ñ‹
    image_util.py 5 KB
    sort.py 61 B
  Ğ Ğ°Ğ·Ğ½Ñ‹Ğµ Ñ„Ğ°Ğ¹Ğ»Ñ‹
    astros.json 505 B
ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ 2. ĞĞ±ÑŠĞµĞ¼ Ñ„Ğ°Ğ¹Ğ»Ğ° Ğ·Ğ°Ğ¿Ğ¸ÑÑ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ğ² ÑĞ°Ğ¼Ñ‹Ñ… ĞºÑ€ÑƒĞ¿Ğ½Ñ‹Ñ… ĞµĞ´Ğ¸Ğ½Ğ¸Ñ†Ğ°Ñ… Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ñ Ñ Ğ¾ĞºÑ€ÑƒĞ³Ğ»ĞµĞ½Ğ¸ĞµĞ¼ Ğ´Ğ¾ Ñ†ĞµĞ»Ñ‹Ñ….
ĞŸÑ€Ğ¸Ğ¼ĞµÑ‡Ğ°Ğ½Ğ¸Ğµ 3. Ğ—Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ñ ĞµĞ´Ğ¸Ğ½Ğ¸Ñ† Ğ¸Ğ·Ğ¼ĞµÑ€ĞµĞ½Ğ¸Ñ Ñ‚Ğ°ĞºĞ¸Ğµ Ğ¶Ğµ, ĞºĞ°ĞºĞ¸Ğµ Ğ¿Ñ€Ğ¸Ğ½ÑÑ‚Ñ‹ Ğ² Ğ¸Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸ĞºĞµ:
    1 KB = 1024 B
    1 MB = 1024 KB
    1 GB = 1024 MB
"""
from zipfile import ZipFile


def get_filesize(size: int) -> str:
    if 0 < size < 1024:
        return f'{size} B'
    elif 1024 <= size < 1024 ** 2:
        return f'{round(size / 1024)} KB'
    elif 1024 ** 2 <= size < 1024 ** 3:
        return f'{round(size / 1024 ** 2)} MB'


with ZipFile('files/desktop.zip') as zip_file:
    names_list = zip_file.namelist()
    for name_list in names_list:
        path_list = name_list.rstrip('/').split('/')
        if zip_file.getinfo(name_list).is_dir():
            print(f"{'  ' * (len(path_list) - 1)}{path_list[-1]}")
        else:
            print(f"{'  ' * (len(path_list) - 1)}{path_list[-1]} "
                  f"{get_filesize(zip_file.getinfo(name_list).file_size)}")
