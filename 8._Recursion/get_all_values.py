"""–§—É–Ω–∫—Ü–∏—è get_all_values() üå∂Ô∏è
–†–µ–∞–ª–∏–∑—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é get_all_values(), –∫–æ—Ç–æ—Ä–∞—è –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –¥–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:
- nested_dicts ‚Äî —Å–ª–æ–≤–∞—Ä—å, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –∏–ª–∏ —Å–ª–æ–≤–∞—Ä–∏, –∫–æ—Ç–æ—Ä—ã–µ, –≤ —Å–≤–æ—é –æ—á–µ—Ä–µ–¥—å,
—Ç–∞–∫ –∂–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ –∑–Ω–∞—á–µ–Ω–∏–π –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã –∏–ª–∏ —Å–ª–æ–≤–∞—Ä–∏; –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω–æ–π.
- key ‚Äî —Ö–µ—à–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç
–§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –≤—Å–µ –∑–Ω–∞—á–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—Ç –∫–ª—é—á—É key –≤ —Å–ª–æ–≤–∞—Ä–µ nested_dicts
–∏ –≤—Å–µ—Ö –µ–≥–æ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Å–ª–æ–≤–∞—Ä—è—Ö, –∏ –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å –∏—Ö –≤ –≤–∏–¥–µ –º–Ω–æ–∂–µ—Å—Ç–≤–∞.
–ï—Å–ª–∏ –∫–ª—é—á–∞ key –Ω–µ—Ç –Ω–∏ –≤ –æ–¥–Ω–æ–º —Å–ª–æ–≤–∞—Ä–µ, —Ñ—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–µ—Ä–Ω—É—Ç—å –ø—É—Å—Ç–æ–µ –º–Ω–æ–∂–µ—Å—Ç–≤–æ.
"""


def get_all_values(nested_dicts, key):
    result = set()
    for k, val in nested_dicts.items():
        if isinstance(val, dict):
            result.update(get_all_values(val, key))
        if k == key:
            result.add(val)
    return result


my_dict = {'users': {'Arthur': {'grades': [4, 4, 3], 'top_grade': 4}, 'Timur': {'grades': [5, 5, 5], 'top_grade': 5}}}
result = get_all_values(my_dict, 'top_grade')

print(*sorted(result))
print(type(result))

my_dict = {'Arthur': {'hobby': 'videogames', 'drink': 'cacao'}, 'Timur': {'hobby': 'math'}}
result = get_all_values(my_dict, 'hobby')

print(*sorted(result))
